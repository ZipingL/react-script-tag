!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):(t="undefined"==typeof globalThis?t||self:globalThis).ReactScriptTag=e(t.React)}(this,(function(t){"use strict";var e=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t);return t=>{const o=e.default.useCallback(((e,o,f)=>{if(t.debug){const r=f?" ".repeat(f):"";console.log(`%c ScriptLoader debug {src: "${t.src}"}`,o||"color: #00ff00; font-weight: bold;"),console.log(`%c ${r} ${e}`,o||"color: #00ff00; font-weight: bold;")}}),[t]),[f,r]=e.default.useState(!1),[n,c]=e.default.useState(!1),l=e.default.createRef(),d=e.default.useCallback((e=>{const{onError:f}=t;o(`onerror started... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2),f&&f(e),o(`onerror exiting... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2)}),[t,o]),i=e.default.useCallback((e=>{const f=t.onLoad;o(`onload started... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2),e&&o(`onload event: ${JSON.stringify(e,null,2)}`,"color: #ff0000; font-weight: bold;",4),f&&f(e),o(`onload exiting... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2)}),[t,o]),a=e.default.useCallback((e=>{const{onLoad:f}=t;o(`oncreate started... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2),e&&o(`oncreate event: ${JSON.stringify(e,null,2)}`,"color: #ff0000; font-weight: bold;",4),f&&f(e),o(`oncreate exiting... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2)}),[t,o]),s=e.default.useMemo((()=>JSON.stringify(t)),[t]);return console.log("React",e.default.useEffect),e.default.useEffect((()=>{n||(o("componentDidMount started","color: #ff0000; font-weight: bold;",2),setTimeout((()=>{o("_appendScript started","color: #ff0000; font-weight: bold;",2);const{delayMs:e,src:f,id:r}=t,n=document.createElement("script");n.src=f,n.setAttribute("data-ref",s),n.setAttribute("data-delayMs",(e||0).toString()),r&&n.setAttribute("id",r),n.onload=i,n.onerror=d,document.body.appendChild(n),a(),o("_appendScript exiting","color: #ff0000; font-weight: bold;",2)}),t.delayMs||0),c(!0),o("componentDidMount exiting","color: #ff0000; font-weight: bold;",2)),n&&!f&&(o("componentDidUpdate started","color: #ff0000; font-weight: bold;",2),f||r(!0),o("componentDidUpdate exiting","color: #ff0000; font-weight: bold;",2))}),[t,f,o,d,i,a,n,s]),e.default.createElement("script",Object.assign({ref:l},t))}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3Qtc2NyaXB0LXRhZy51bWQuanMiLCJzb3VyY2VzIjpbXSwic291cmNlc0NvbnRlbnQiOltdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0=
