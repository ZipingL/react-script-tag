!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ScriptTag=t(e.React)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);return function({delayMs:t=0,onCreate:n=(()=>{}),onError:o=(e=>{console.error("string"==typeof e?e:`Failed to load script at source ${e.target.src} with error: ${e instanceof ErrorEvent?e.error:"Unknown error"}`)}),onLoad:l=(e=>{console.info("Script loaded successfully at src ",e.target.src)}),src:i,id:d,className:c,children:u,otherProps:s={}}){const a=e.useRef(null),[f,p]=e.useState("not-started"),m=e.useRef(null);return e.useEffect((()=>("not-started"===f&&(p("waiting-delay"),a.current=window.setTimeout((()=>{p("loading");const e=document.createElement("script");e.src=i;for(const[t,r]of Object.entries(s))e.setAttribute(t,`${r}`);d&&(e.id=d),c&&(e.className=c);const t=(null==l?void 0:l.bind(null))||void 0,r=null==o?void 0:o.bind(null),u=(null==n?void 0:n.bind(null))||void 0;e.onload=e=>{p("loaded"),t&&t(e)},e.onerror=e=>{p("error"),r&&r(e)},m.current=e,e.onerror=o,document.body.appendChild(e),u&&u()}),t)),()=>{a.current&&"loading"===f&&clearTimeout(a.current)})),[t,n,o,l,i,s,f,a]),r.default.createElement(r.default.Fragment,null,u)}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3Qtc2NyaXB0LXRhZy51bWQuanMiLCJzb3VyY2VzIjpbXSwic291cmNlc0NvbnRlbnQiOltdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0=
