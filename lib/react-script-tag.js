"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("tslib").__importDefault(require("react"));class o extends t.default.Component{constructor(t){super(t),this.state={delayMs:t.delayMs||0,src:t.src,timeout:null,render:t.render||null,id:t.id||null,renderScript:t.renderScript||!1,updated:!1},this.componentDidMount=this.componentDidMount.bind(this),this.componentWillUnmount=this.componentWillUnmount.bind(this),this._appendScript=this._appendScript.bind(this),this.render=this.render.bind(this),this.onCreate=this.onCreate.bind(this),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.onSuccess=this.onSuccess.bind(this)}componentDidMount(){this.log("componentDidMount started","color: #ff0000; font-weight: bold;",2),this.setState({timeout:setTimeout(this._appendScript,this.state.delayMs)}),this.log("componentDidMount exiting","color: #ff0000; font-weight: bold;",2)}log(t,o,e){if(this.props.debug){const s=e?" ".repeat(e):"";console.log(`%c ScriptLoader debug {src: "${this.state.src}"}`,o||"color: #00ff00; font-weight: bold;"),console.log(`%c ${s} ${t}`,o||"color: #00ff00; font-weight: bold;")}}componentDidUpdate(){this.log("componentDidUpdate started","color: #ff0000; font-weight: bold;",2),0==this.state.updated&&(this.setState({updated:!0}),this.onSuccess()),this.log("componentDidUpdate exiting","color: #ff0000; font-weight: bold;",2)}componentWillUnmount(){this.log("componentWillUnmount started","color: #ff0000; font-weight: bold;",2),this.state.timeout&&(this.log("Clearing Timeout...","color: #ff0000; font-weight: medium;",4),clearTimeout(this.state.timeout)),this.log("componentWillUnmount exiting","color: #ff0000; font-weight: bold;",2)}_appendScript=()=>{this.log("_appendScript started","color: #ff0000; font-weight: bold;",2);const{delayMs:t,src:o,id:e}=this.state,s=document.createElement("script");s.src=o,this.state.id&&(s.id=this.state.id);const i=Object.keys(this.state),n=Object.keys(this.props).filter((t=>!i.includes(t)));if(s.setAttribute("data-delayMs",t.toString()),0<n.length)for(const[t,o]of Object.entries(this.props))i.includes(t)||s.setAttribute(t,o);s.onload=this.onLoad,s.onerror=this.onError,document.body.appendChild(s),this.onCreate(),this.log("_appendScript exiting","color: #ff0000; font-weight: bold;",2)};onError(t){const{onError:o}=this.props;this.log(`onerror started... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2),o&&o(t),this.log(`onerror exiting... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2)}onSuccess(){const{onSuccess:t}=this.props;this.log(`onsuccess started... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2),t&&t(),this.log(`onsuccess exiting... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2)}onLoad(t){const o=this.props.onLoad;this.log(`onload started... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2),t&&this.log(`onload event: ${JSON.stringify(t,null,2)}`,"color: #ff0000; font-weight: bold;",4),o&&o(t),this.log(`onload exiting... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2)}onCreate(t){const{onLoad:o}=this.props;this.log(`oncreate started... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2),t&&this.log(`oncreate event: ${JSON.stringify(t,null,2)}`,"color: #ff0000; font-weight: bold;",4),o&&o(t),this.log(`oncreate exiting... for { src: "${this.state.src}" }`,"color: #ff0000; font-weight: bold;",2)}render(){const{updated:t,render:o}=this.state;return this.log(`render called, { src: ${this.state.src}}`,"color: #ff0000; font-weight: bold;",2),t&&o?o:null}}exports.default=o;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3Qtc2NyaXB0LXRhZy5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3NyYy9TY3JpcHRUYWcvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLyoqIEBjbGFzcyBTY3JpcHRMb2FkZXJcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGEgcmVhY3QgY29tcG9uZW50IGlzIGludGVuZGVkIHRvIGJlIGEgZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgdGhlIDxzY3JpcHQ+IGh0bWwgbmF0aXZlIHRhZy4gQWZ0ZXIgeW91IGFkZCBpdCBpbiBhbnkgbG9jYXRpb24gb2YgeW91ciByZWFjdC1hcHAsIHRoZSBjb21wb25lbnQgd2lsbCB0YWtlIGNhcmUgb24gYXBwZW5kaW5nLCB0aGUgY29ycmVzcG9uZGluZyBzY3JpcHQgdGFnIHRvIHlvdXIgYXBwJ3MgZG9jdW1lbnQuIEl0IHN1cHBvcnRzIGFsbCB0aGUgbmF0aXZlIGF0dHJpYnV0ZXMgYXMgd2VsbC5cbiAqIEBleGFtcGxlIGBgYDxTY3JpcHRMb2FkZXIgc3JjPVwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzXCIgLz5gYGBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NyaXB0VGFnIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICAgIFNjcmlwdExvYWRlclByb3BzLFxuICAgIHtcbiAgICAgICAgZGVsYXlNczogbnVtYmVyO1xuICAgICAgICBzcmM6IHN0cmluZztcbiAgICAgICAgdGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsO1xuICAgICAgICByZW5kZXI6IEpTWC5FbGVtZW50IHwgbnVsbDtcbiAgICAgICAgaWQ6IHN0cmluZyB8IG51bGw7XG4gICAgICAgIHJlbmRlclNjcmlwdDogYm9vbGVhbjtcbiAgICAgICAgdXBkYXRlZDogYm9vbGVhbjtcbiAgICB9XG4+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogU2NyaXB0TG9hZGVyUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkZWxheU1zOiBwcm9wcy5kZWxheU1zIHx8IDAsXG4gICAgICAgICAgICBzcmM6IHByb3BzLnNyYyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IG51bGwsXG4gICAgICAgICAgICByZW5kZXI6IHByb3BzLnJlbmRlciB8fCBudWxsLFxuICAgICAgICAgICAgaWQ6IHByb3BzLmlkIHx8IG51bGwsXG4gICAgICAgICAgICByZW5kZXJTY3JpcHQ6IHByb3BzLnJlbmRlclNjcmlwdCB8fCBmYWxzZSxcbiAgICAgICAgICAgIHVwZGF0ZWQ6IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY29tcG9uZW50RGlkTW91bnQgPSB0aGlzLmNvbXBvbmVudERpZE1vdW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50V2lsbFVubW91bnQgPSB0aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2FwcGVuZFNjcmlwdCA9IHRoaXMuX2FwcGVuZFNjcmlwdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5vbkNyZWF0ZSA9IHRoaXMub25DcmVhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkxvYWQgPSB0aGlzLm9uTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblN1Y2Nlc3MgPSB0aGlzLm9uU3VjY2Vzcy5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIFwiY29tcG9uZW50RGlkTW91bnQgc3RhcnRlZFwiLFxuICAgICAgICAgICAgXCJjb2xvcjogI2ZmMDAwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCIsXG4gICAgICAgICAgICAyXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB0aW1lb3V0OiBzZXRUaW1lb3V0KHRoaXMuX2FwcGVuZFNjcmlwdCwgdGhpcy5zdGF0ZS5kZWxheU1zKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBcImNvbXBvbmVudERpZE1vdW50IGV4aXRpbmdcIixcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxvZyhtc2c6IHN0cmluZywgc3R5bGU/OiBzdHJpbmcsIGluZGVudD86IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgICAgICAgY29uc3QgaW5kZW50U3RyID0gaW5kZW50ID8gXCIgXCIucmVwZWF0KGluZGVudCkgOiBcIlwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgYCVjIFNjcmlwdExvYWRlciBkZWJ1ZyB7c3JjOiBcIiR7dGhpcy5zdGF0ZS5zcmN9XCJ9YCxcbiAgICAgICAgICAgICAgICBzdHlsZSB8fCBgY29sb3I6ICMwMGZmMDA7IGZvbnQtd2VpZ2h0OiBib2xkO2BcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIGAlYyAke2luZGVudFN0cn0gJHttc2d9YCxcbiAgICAgICAgICAgICAgICBzdHlsZSB8fCBgY29sb3I6ICMwMGZmMDA7IGZvbnQtd2VpZ2h0OiBib2xkO2BcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgXCJjb21wb25lbnREaWRVcGRhdGUgc3RhcnRlZFwiLFxuICAgICAgICAgICAgXCJjb2xvcjogI2ZmMDAwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCIsXG4gICAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnVwZGF0ZWQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub25TdWNjZXNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBcImNvbXBvbmVudERpZFVwZGF0ZSBleGl0aW5nXCIsXG4gICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgXCJjb21wb25lbnRXaWxsVW5tb3VudCBzdGFydGVkXCIsXG4gICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgICAgXCJDbGVhcmluZyBUaW1lb3V0Li4uXCIsXG4gICAgICAgICAgICAgICAgXCJjb2xvcjogI2ZmMDAwMDsgZm9udC13ZWlnaHQ6IG1lZGl1bTtcIixcbiAgICAgICAgICAgICAgICA0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUudGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBcImNvbXBvbmVudFdpbGxVbm1vdW50IGV4aXRpbmdcIixcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9hcHBlbmRTY3JpcHQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgXCJfYXBwZW5kU2NyaXB0IHN0YXJ0ZWRcIixcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHsgZGVsYXlNcywgc3JjLCBpZCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICBzY3JpcHQuc3JjID0gc3JjO1xuICAgICBcblxuICAgICAgICBpZih0aGlzLnN0YXRlLmlkKSB7XG4gICAgICAgICAgICBzY3JpcHQuaWQgPSB0aGlzLnN0YXRlLmlkO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBzY3JpcHRQcm9wS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpO1xuICAgICAgICBjb25zdCBvdGhlclByb3BzS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMpLmZpbHRlcihcbiAgICAgICAgICAgIChwcm9wKSA9PiAhc2NyaXB0UHJvcEtleXMuaW5jbHVkZXMocHJvcClcbiAgICAgICAgKTtcbiAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZShcImRhdGEtZGVsYXlNc1wiLCBkZWxheU1zLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIC8vIEFkZCBjdXN0b20gYXR0cmlidXRlc1xuICAgICAgICBpZiAob3RoZXJQcm9wc0tleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbYXR0ciwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmlwdFByb3BLZXlzLmluY2x1ZGVzKGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlIGFzIGFueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzY3JpcHQub25sb2FkID0gdGhpcy5vbkxvYWQ7XG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gdGhpcy5vbkVycm9yO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG5cbiAgICAgICAgdGhpcy5vbkNyZWF0ZSgpO1xuXG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgXCJfYXBwZW5kU2NyaXB0IGV4aXRpbmdcIixcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBvbkVycm9yKGU/OiBFcnJvciB8IEV2ZW50IHwgc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgb25FcnJvciB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBgb25lcnJvciBzdGFydGVkLi4uIGZvciB7IHNyYzogXCIke3RoaXMuc3RhdGUuc3JjfVwiIH1gLFxuICAgICAgICAgICAgXCJjb2xvcjogI2ZmMDAwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCIsXG4gICAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgYG9uZXJyb3IgZXhpdGluZy4uLiBmb3IgeyBzcmM6IFwiJHt0aGlzLnN0YXRlLnNyY31cIiB9YCxcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIG9uU3VjY2VzcyhlPzogRXJyb3IgfCBFdmVudCB8IHN0cmluZykge1xuICAgICAgICBjb25zdCB7IG9uU3VjY2VzcyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBgb25zdWNjZXNzIHN0YXJ0ZWQuLi4gZm9yIHsgc3JjOiBcIiR7dGhpcy5zdGF0ZS5zcmN9XCIgfWAsXG4gICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG9uU3VjY2Vzcykge1xuICAgICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBgb25zdWNjZXNzIGV4aXRpbmcuLi4gZm9yIHsgc3JjOiBcIiR7dGhpcy5zdGF0ZS5zcmN9XCIgfWAsXG4gICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvbkxvYWQoZT86IEV2ZW50IHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbU9uTG9hZCA9IHRoaXMucHJvcHMub25Mb2FkIGFzIChlPzogRXZlbnQpID0+IHZvaWQ7XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgYG9ubG9hZCBzdGFydGVkLi4uIGZvciB7IHNyYzogXCIke3RoaXMuc3RhdGUuc3JjfVwiIH1gLFxuICAgICAgICAgICAgXCJjb2xvcjogI2ZmMDAwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCIsXG4gICAgICAgICAgICAyXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgICAgIGBvbmxvYWQgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZSwgbnVsbCwgMil9YCxcbiAgICAgICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgICAgICA0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXN0b21PbkxvYWQpIHtcbiAgICAgICAgICAgIGN1c3RvbU9uTG9hZChlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGBvbmxvYWQgZXhpdGluZy4uLiBmb3IgeyBzcmM6IFwiJHt0aGlzLnN0YXRlLnNyY31cIiB9YCxcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIG9uQ3JlYXRlKGU/OiBFdmVudCkge1xuICAgICAgICBjb25zdCB7IG9uTG9hZCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBgb25jcmVhdGUgc3RhcnRlZC4uLiBmb3IgeyBzcmM6IFwiJHt0aGlzLnN0YXRlLnNyY31cIiB9YCxcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgICAgICBgb25jcmVhdGUgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZSwgbnVsbCwgMil9YCxcbiAgICAgICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgICAgICA0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgICAgb25Mb2FkKGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgICAgYG9uY3JlYXRlIGV4aXRpbmcuLi4gZm9yIHsgc3JjOiBcIiR7dGhpcy5zdGF0ZS5zcmN9XCIgfWAsXG4gICAgICAgICAgICBcImNvbG9yOiAjZmYwMDAwOyBmb250LXdlaWdodDogYm9sZDtcIixcbiAgICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgdXBkYXRlZCwgcmVuZGVyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICB0aGlzLmxvZyhcbiAgICAgICAgICAgIGByZW5kZXIgY2FsbGVkLCB7IHNyYzogJHt0aGlzLnN0YXRlLnNyY319YCxcbiAgICAgICAgICAgIFwiY29sb3I6ICNmZjAwMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiLFxuICAgICAgICAgICAgMlxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB1cGRhdGVkICYmIHJlbmRlciA/IHJlbmRlciA6IG51bGw7XG4gICAgfVxufVxuXG4vKiogQHR5cGUgU2NyaXB0TG9hZGVyUHJvcHMgVGhpcyBpcyB0aGUgdHlwZSBkZWNsYXJhdGlvbiBmb3IgcHJvcHMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBTY3JpcHRMb2FkZXIgY29tcG9uZW50LCBgaW1wb3J0IHsgU2NyaXB0TG9hZGVyUHJvcHMgfSBmcm9tICdyZWFjdC1zY3JpcHQtbG9hZGVyLTE4J2BcbiAqIEBwYXJhbSBzcmMgVGhlIHNvdXJjZSBvZiB0aGUgc2NyaXB0IHRvIGJlIGxvYWRlZCwgZS5nLiAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzJ1xuICogQHBhcmFtIGRlbGF5TVMgQXJ0aWZpY2FsbHkgYWRkcyBhIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBhZnRlciB0aGUgY29tcG9uZW50IG1vdW50cywgYnV0IGJlZm9yZSB0aGUgc2NyaXB0IHRhZyBpcyBhcHBlbmRlZCB0byB0aGUgZG9jdW1lbnQuIFVzZWZ1bCBmb3Igc2NyaXB0cyB0aGF0IGFyZSBub3QgbmVjZXNzYXJ5IGVhcmx5IG9uLCBhbmQgbWF5IGNvbmZsaWN0IG9uIHRoZSBicm93c2VyJ3MgcmVxdWVzdC1saW1pdC5cbiAqIEBwYXJhbSBvbkNyZWF0ZSBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGp1c3QgcmlnaHQgYWZ0ZXIgdGhlIHNjcmlwdCB0YWcgaGFzIGJlZW4gYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50LlxuICogQHBhcmFtIG9uTG9hZCBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZnRlciB0aGUgc2NyaXB0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gKiBAcGFyYW0gb25FcnJvciBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpZiB0aGUgc2NyaXB0IGZhaWxzIHRvIGxvYWQuXG4gKiBAcGFyYW0gb25TdWNjZXNzIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGlmIHRoZSBzY3JpcHQgaXMgbG9hZGVkIHN1Y2Nlc3NmdWxseS5cbiAqIEBwYXJhbSByZW5kZXIgVGhpcyBpcyBhbiBvcHRpb25hbCBKU1guRWxlbWVudCB0aGF0IHJlbmRlcnMuXG4gKiBAcGFyYW0gZGVidWcgVGhpcyBpcyBhIGJvb2xlYW4gZmxhZyB0aGF0IGVuYWJsZXMgZGVidWcgbW9kZS4gSXQgd2lsbCBsb2cgdG8gdGhlIGNvbnNvbGUgdGhlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQuXG4gKiBAZXhhbXBsZSBgYFxuICogaW1wb3J0IHsgU2NyaXB0TG9hZGVyUHJvcHMgfSBmcm9tICdyZWFjdC1zY3JpcHQtbG9hZGVyLTE4JztcbiAqIGNvbnN0IHByb3BzOiBTY3JpcHRMb2FkZXJQcm9wcyA9XG4gKiB7XG4gKiAgIHNyYzogJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcycsXG4gKiAgIGRlbGF5TXM6IDEwMDAsIG9uQ3JlYXRlOiAoKSA9PiB7IGNvbnNvbGUubG9nKCdTY3JpcHQgY3JlYXRlZCEnKSB9LFxuICogICBvbkxvYWQ6IChlOiBFdmVudCkgPT4geyBjb25zb2xlLmxvZygnU2NyaXB0IGxvYWRlZCEnKSB9LFxuICogICBvbkVycm9yOiAoZTogRXZlbnQgfCBzdHJpbmcpID0+IHsgY29uc29sZS5sb2coJ1NjcmlwdCBmYWlsZWQgdG8gbG9hZCEnKSB9LFxuICogICBvblN1Y2Nlc3M6ICgpID0+IHsgY29uc29sZS5sb2coJ1NjcmlwdCBsb2FkZWQgc3VjY2Vzc2Z1bGx5IScpIH0sXG4gKiAgIGRlYnVnOiB0cnVlLFxuICogICBpZDogSlNYLkVsZW1lbnQgdGFnIGlkLFxuICogICByZW5kZXI6IDw+PHN0eWxlPiB7YGgzOmhvdmVyIHt2aXNpYmlsaXR5OiB2aXNpYmxlO31gfSA8L3N0eWxlPlxuICogIDxoMyBzdHlsZT17e3Zpc2liaWxpdHk6aGlkZGVufX0+U2NyaXB0IGxvYWRlZCEgQU1BWk9OIExFR0FMLFxuICogIDxhIHRhcmdldD0nX2JsYW5rJyBzdHlsZT17e3RleHREZWNvcmF0aW9uOiBub25lfX0gaHJlZj0naHR0cHM6Ly9saXUuYWNhZGVteS9zdGFrZWhvbGRlci9sZXR0ZXInPldIRVJFIEFSRSBNWSBXQUdFU1xuICogIDwvYT4gPC9oMz4gPC8+XG4gKiB9XG4gKiBgYFxuICovXG5leHBvcnQgdHlwZSBTY3JpcHRMb2FkZXJQcm9wcyA9IHtcbiAgICBkZWxheU1zPzogbnVtYmVyO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIG9uQ3JlYXRlPzogKGV2ZW50PzogRXZlbnQpID0+IHZvaWQ7XG4gICAgb25FcnJvcj86IChcbiAgICAgICAgZXZlbnQ/OiBzdHJpbmcgfCBFdmVudCB8IEVycm9yLFxuICAgICAgICBzb3VyY2U/OiBzdHJpbmcsXG4gICAgICAgIGxpbmVubz86IG51bWJlcixcbiAgICAgICAgY29sbm8/OiBudW1iZXIsXG4gICAgICAgIGVycm9yPzogRXJyb3JcbiAgICApID0+IHZvaWQ7XG4gICAgb25TdWNjZXNzPzogKCkgPT4gdm9pZDtcbiAgICBvbkxvYWQ/OiAoZXZlbnQ/OiBFdmVudCkgPT4gdm9pZDtcbiAgICBkZWJ1Zz86IGJvb2xlYW47XG4gICAgcmVuZGVyPzogSlNYLkVsZW1lbnQ7XG4gICAgcmVuZGVyU2NyaXB0PzogYm9vbGVhbjtcbiAgICBzcmM6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG59O1xuIl0sIm5hbWVzIjpbInJlYWN0XzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiU2NyaXB0VGFnIiwiZGVmYXVsdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdXBlciIsInRoaXMiLCJzdGF0ZSIsImRlbGF5TXMiLCJzcmMiLCJ0aW1lb3V0IiwicmVuZGVyIiwiaWQiLCJyZW5kZXJTY3JpcHQiLCJ1cGRhdGVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJiaW5kIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJfYXBwZW5kU2NyaXB0Iiwib25DcmVhdGUiLCJvbkxvYWQiLCJvbkVycm9yIiwib25TdWNjZXNzIiwibG9nIiwic2V0U3RhdGUiLCJzZXRUaW1lb3V0IiwibXNnIiwic3R5bGUiLCJpbmRlbnQiLCJkZWJ1ZyIsImluZGVudFN0ciIsInJlcGVhdCIsImNvbnNvbGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjbGVhclRpbWVvdXQiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzY3JpcHRQcm9wS2V5cyIsIk9iamVjdCIsImtleXMiLCJvdGhlclByb3BzS2V5cyIsImZpbHRlciIsInByb3AiLCJpbmNsdWRlcyIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwibGVuZ3RoIiwiYXR0ciIsInZhbHVlIiwiZW50cmllcyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJlIiwiY3VzdG9tT25Mb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiIwRUFBMEJBLG1C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
