import r,{useRef as e,useState as o,useEffect as t}from"react";function n({delayMs:n=0,onCreate:l=(()=>{}),onError:c=(r=>{console.error("string"==typeof r?r:`Failed to load script at source ${r.target.src} with error: ${r instanceof ErrorEvent?r.error:"Unknown error"}`)}),onLoad:d=(r=>{console.info("Script loaded successfully at src ",r.target.src)}),src:a,id:i,className:s,children:u,otherProps:m={}}){const f=e(null),[p,g]=o("not-started"),b=e(null);return t((()=>("not-started"===p&&(g("waiting-delay"),f.current=window.setTimeout((()=>{g("loading");const r=document.createElement("script");r.src=a;for(const[e,o]of Object.entries(m))r.setAttribute(e,`${o}`);i&&(r.id=i),s&&(r.className=s);const e=(null==d?void 0:d.bind(null))||void 0,o=null==c?void 0:c.bind(null),t=(null==l?void 0:l.bind(null))||void 0;r.onload=r=>{g("loaded"),e&&e(r)},r.onerror=r=>{g("error"),o&&o(r)},b.current=r,r.onerror=c,document.body.appendChild(r),t&&t()}),n)),()=>{f.current&&"loading"===p&&clearTimeout(f.current)})),[n,l,c,d,a,m,p,f]),r.createElement(r.Fragment,null,u)}export{n as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3Qtc2NyaXB0LXRhZy5tLmpzIiwic291cmNlcyI6W10sInNvdXJjZXNDb250ZW50IjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiJ9
