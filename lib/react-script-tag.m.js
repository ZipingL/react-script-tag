import o from"react";const t=t=>{const e=o.useCallback(((o,e,r)=>{if(t.debug){const n=r?" ".repeat(r):"";console.log(`%c ScriptLoader debug {src: "${t.src}"}`,e||"color: #00ff00; font-weight: bold;"),console.log(`%c ${n} ${o}`,e||"color: #00ff00; font-weight: bold;")}}),[t]),[r,n]=o.useState(!1),[c,f]=o.useState(!1),l=o.createRef(),s=o.useCallback((o=>{const{onError:r}=t;e(`onerror started... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2),r&&r(o),e(`onerror exiting... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2)}),[t,e]),i=o.useCallback((o=>{const r=t.onLoad;e(`onload started... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2),o&&e(`onload event: ${JSON.stringify(o,null,2)}`,"color: #ff0000; font-weight: bold;",4),r&&r(o),e(`onload exiting... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2)}),[t,e]),d=o.useCallback((o=>{const{onLoad:r}=t;e(`oncreate started... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2),o&&e(`oncreate event: ${JSON.stringify(o,null,2)}`,"color: #ff0000; font-weight: bold;",4),r&&r(o),e(`oncreate exiting... for { src: "${t.src}" }`,"color: #ff0000; font-weight: bold;",2)}),[t,e]),a=o.useMemo((()=>JSON.stringify(t)),[t]);return console.log("React",o.useEffect),o.useEffect((()=>{c||(e("componentDidMount started","color: #ff0000; font-weight: bold;",2),setTimeout((()=>{e("_appendScript started","color: #ff0000; font-weight: bold;",2);const{delayMs:o,src:r,id:n}=t,c=document.createElement("script");c.src=r,c.setAttribute("data-ref",a),c.setAttribute("data-delayMs",(o||0).toString()),n&&c.setAttribute("id",n),c.onload=i,c.onerror=s,document.body.appendChild(c),d(),e("_appendScript exiting","color: #ff0000; font-weight: bold;",2)}),t.delayMs||0),f(!0),e("componentDidMount exiting","color: #ff0000; font-weight: bold;",2)),c&&!r&&(e("componentDidUpdate started","color: #ff0000; font-weight: bold;",2),r||n(!0),e("componentDidUpdate exiting","color: #ff0000; font-weight: bold;",2))}),[t,r,e,s,i,d,c,a]),o.createElement("script",Object.assign({ref:l},t))};export{t as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3Qtc2NyaXB0LXRhZy5tLmpzIiwic291cmNlcyI6W10sInNvdXJjZXNDb250ZW50IjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiJ9
